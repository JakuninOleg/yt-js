window.onload = () => {
  const FORM_WRAPPER = document.querySelector(`.column_type_input`);
  // –ù–µ—Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–µ–µ —Å—Ç–∏–ª—é –Ω–∞–∑–≤–∞–Ω–∏–µ –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π
	const ratingArray = [];
	let countedRating = 20;


  const renderSearch = (allItemsData) => {
    PageEnum.SiteWrapper.SEARCH.innerHTML = ``;
    // –ò–∑-–∑–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã —Ç–µ—Å—Ç–æ–≤—ã—Ö –¥–∞–Ω–Ω—ã—Ö –æ—á–µ–Ω—å —Å–ª–æ–∂–Ω–æ –æ–±—Ä–∞—â–∞—Ç—å—Å—è –∏ —á–∏—Ç–∞—Ç—å –ø–æ–¥–æ–±–Ω—ã–π –∫–æ–¥, –ø–æ—Ç–æ–º—É —Å—Ç–æ–∏—Ç —É–¥–µ–ª–∏—Ç—å –≤–Ω–∏–º–∞–Ω–∏–µ –≤–µ—Ä–Ω–æ–π –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏

    const searchComponent = new Search();

    PageEnum.SiteWrapper.SEARCH.appendChild(searchComponent.render());
    // –ß—Ç–æ–±—ã –ø–æ—Å—Ç–æ—è–Ω–Ω–æ –Ω–µ –ø–∏—Å–∞—Ç—å PageEnum.SiteWrapper.SEARCH - –∏–º–µ–µ—Ç —Å–º—ã—Å–ª –ø—Ä–∏–≤—è–∑–∞—Ç—å –¥–∞–Ω–Ω–æ–µ –æ–±—Ä–∞—â–µ–Ω–∏–µ –∫ –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π, –ª–∏–±–æ –≤–µ—Ä–Ω–æ —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞—Ç—å —Ç–µ—Å—Ç–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ (–∏ –Ω–µ —Ç–æ–ª—å–∫–æ –∏—Ö  :) )

    searchComponent.onChange = (value) => {
      const filteredItems = allItemsData.filter((currentItem) => currentItem._names.includes(value));
      // –ó–¥–µ—Å—å –∏ –≤ –¥—Ä—É–≥–∏—Ö –º–µ—Å—Ç–∞—Ö - –æ–±—Ä–∞—â–µ–Ω–∏–µ –∫ —Å–æ–∫—Ä—ã—Ç—ã–º –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–º –Ω–∞–ø—Ä—è–º—É—é, —ç—Ç–æ —Å—Ç–æ–∏—Ç –¥–µ–ª–∞—Ç—å —á–µ—Ä–µ–∑ –≥–µ—Ç—Ç–µ—Ä—ã, –µ—Å–ª–∏ –µ—Å—Ç—å –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç—å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å–æ–∫—Ä—ã—Ç–∏–µ
      PageEnum.SiteWrapper.rating.innerHTML = ``;
      if (value === ``) {
        ratingRender(countedRating, allItemsData);
      } else {
        ratingUpdate(filteredItems);
      }
    };
  };

  const ratingRender = (ratingAmount, ratingArray) => {
    for (let i = 0; i < ratingAmount; i++) {
      ratingArray[i] = new PersonRating(returnRandomData());
      // –î–∞–Ω–Ω—ã–π –º–µ—Ç–æ–¥ —Å–æ–∑–¥–∞—Å—Ç 20 —ç–∫–∑–µ–º–ø–ª—è—Ä–æ–≤ –∫–ª–∞—Å—Å–∞ PersonRating. –í–æ–∑–º–æ–∂–Ω–æ, –º–æ–∂–Ω–æ –±—ã–ª–æ –Ω–µ —Å–æ–∑–¥–∞–≤–∞—Ç—å –æ—Ç–¥–µ–ª—å–Ω—ã–π –∫–ª–∞—Å—Å –¥–ª—è –¥–∞–Ω–Ω–æ–≥–æ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–∞ –∏ –ø—Ä–∏–±–µ–≥–Ω—É—Ç—å –∫ –≤–µ—Ä–Ω–æ–º—É –æ–±—ä—è–≤–ª–µ–Ω–∏—é —Ç–µ—Å—Ç–æ–≤—ã—Ö –¥–∞–Ω–Ω—ã—Ö –∏ –≤–æ–∑–≤—Ä–∞—â–µ–Ω–∏—é –æ–¥–Ω–æ–≥–æ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞ —Å–æ —Å–ø–∏—Å–∫–æ–º –≤—Å–µ—Ö —Ä–µ–π—Ç–∏–Ω–≥–æ–≤.
    }
    ratingUpdate(ratingArray);
  };

  const ratingUpdate = (ratingArray) => {
    ratingArray.forEach((item) => {
      PageEnum.SiteWrapper.rating.appendChild(item.render());
    });
    if (ratingArray.length === 0) {
      PageEnum.SiteWrapper.rating.innerHTML = `Rating list is empty`
    }
    // –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ –¥–ª–∏–Ω–Ω—É –º–∞—Å—Å–∏–≤–∞ –∏–¥–µ—Ç –ø–æ—Å–ª–µ –µ–≥–æ, –æ–±—Ä–∞–±–æ—Ç–∫–∏, —Ç—É—Ç –ª–æ–≥–∏—á–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∫–æ–Ω—Å—Ç—Ä—É–∫—Ü–∏—é if ... else
  };

	const renderForm = () => {
		const formComponent = new Form();
		FORM_WRAPPER.appendChild(formComponent.render());

		formComponent.onSubmit = (evt) => {
      evt.preventDefault();
      // preventDeafault —É–∂–µ –≤—ã–∑—ã–≤–∞–ª—Å—è –≤–Ω—É—Ç—Ä–∏ –∫–ª–∞—Å—Å–∞ Form
      // –í –¥–∞–Ω–Ω–æ–º —Å–ª—É—á–∞–µ —Å–æ–±—ã—Ç–∏–µ - –∫–ª–∏–∫ –º—ã—à–∫–æ–π, –∞ –Ω–µ –æ—Ç–ø—Ä–∞–≤–∫–∞ —Ñ–æ—Ä–º—ã
			const name = document.querySelector(`input[name=name]`).value;
			const cat = document.querySelector(`input[name=cat]`).value;
			const rest = document.querySelector(`input[name=rest]`).value;
      const money = document.querySelector(`input[name=money]`).value;
      // –ü–æ–¥–æ–±–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ —Å—Ç–æ–∏—Ç –æ–±—ä—è–≤–ª—è—Ç—å –≤ –Ω–∞—á–∞–ª–µ —Ñ–∞–π–ª–∞, –ª–∏–±–æ –≤ –æ—Ç–¥–µ–ª—å–Ω–æ–º —Ñ–∞–π–ª–µ –∏ –∏–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å –∏—Ö (–≤ —Ç–æ–º —á–∏—Å–ª–µ –∏—Å–ø–æ–ª—å–∑—É—è –¥–µ—Å—Ç—Ä—É—Ç—É—Ä–∏–∑–∞—Ü–∏—é)
      // –ù–µ —Ä–∞–±–æ—Ç–∞—é—Ç —Ä–∞–¥–∏–æ –∏–Ω–ø—É—Ç—ã –∏–∑-–∑–∞ –Ω–µ–≤–µ—Ä–Ω–æ–≥–æ –∫ –Ω–∏–º –æ–±—Ä–∞—â–µ–Ω–∏—è —á–µ—Ä–µ–∑ name. –¢.–∫. –≤ –æ–±–æ–∏—Ö —Å–ª—É—á–∞—è—Ö html —ç–ª–µ–º–µ–Ω—Ç—ã –∏–¥–∏–µ–Ω—Ç–∏—á–Ω—ã - –≤—ã–±–∏—Ä–∞–µ—Ç—Å—è –≤—Å–µ–≥–¥—ã –ø–µ—Ä–≤—ã–π —Å value = yes, —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ - –≤—ã–±–æ—Ä –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –Ω–∏ –Ω–∞ —á—Ç–æ –Ω–µ –≤–ª–∏—è–µ—Ç. –ù–µ–æ–±—Ö–æ–¥–∏–º–æ –ø—Ä–æ–≤–µ—Ä—è—Ç—å –∞—Ç—Ç—Ä–∏–±—É—Ç checked —É —Ä–∞–¥–∏–æ –∫–Ω–æ–ø–æ–∫.
			const Man = new Person(name);
			if (cat === 'yes') {
				Man.hasCat();
			}
			if (rest === 'yes') {
				Man.hasRest();
			}
			if (money === 'yes') {
				Man.hasMoney();
      }
      // –î–∞–Ω–Ω—ã–µ –º–µ—Ç–æ–¥—ã –≤—ã–≥–ª—è–¥—è—Ç –≥—Ä–æ–º–æ–∑–¥–∫–æ, –µ—Å—Ç—å –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –ø–µ—Ä–µ–ø–∏—Å–∞—Ç—å –∏—Ö, –∏—Å–ø–æ–ª—å–∑—É—è –∫–æ–Ω—Å—Ç—Ä—É–∫—É—Ü–∏—é case, –±–æ–ª–µ–µ —Ç–æ–≥–æ - –ª–æ–≥–∏–∫—É –º–æ–∂–Ω–æ –≤—ã–Ω–µ—Å—Ç–∏ –≤ –∫–ª–∞—Å—Å Person, —Å–æ–±–ª—é–¥–∞—è –ø—Ä–∏–Ω—Ü–∏–ø DRY
			Man.isSunny()
				.then((happiness) => {
          Man._valueElement.innerHTML = name;
          // –ò–∑–º–µ–Ω–µ–Ω–∏–µ –∏–º–µ–Ω–∏ –≤ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–µ Person –≤–Ω—É—Ç—Ä–∏ —Ä–∞–±–æ—Ç—ã —Å Promise - –≤—ã–±—Ä–∞–Ω–æ –Ω–µ–≤–µ—Ä–Ω–æ–µ –º–µ—Å—Ç–æ–ø–æ–ª–æ–∂–µ–Ω–∏–µ –¥–ª—è –¥–∞–Ω–Ω–æ–π –ª–æ–≥–∏–∫–∏
          console.log(happiness)
					if (happiness === 4) {
						Man._iconElement.innerHTML = 'üòÜ';
					} else if (happiness === 3 || happiness === 2) {
						Man._iconElement.innerHTML = 'üòê';
					} else {
						Man._iconElement.innerHTML = '‚òπÔ∏è';
					}
				});
		}
	};

	renderForm();
  renderSearch(ratingArray);
	ratingRender(countedRating, ratingArray);
};


// –ù–∞ –¥–∞–Ω–Ω–æ–º —ç—Ç–∞–ø–µ –∫–æ–¥ –ü–û –æ—á–µ–Ω—å —Å–ª–æ–∂–µ–Ω –¥–ª—è –≤–æ—Å–ø—Ä–∏—è—Ç–∏—è. –í–æ–∑–º–æ–∂–Ω–æ, —Å—Ç–æ–∏–ª–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å MVC –ø–∞—Ç—Ç–µ—Ä–Ω –∏ —Ä–∞–∑–¥–µ–ª–∏—Ç—å —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª –Ω–∞ —Å–æ–æ—Ç–≤–µ—Ç—Å–≤—É—é—â–∏–µ —Ä–∞–∑–¥–µ–ª—ã –∏ —Ñ—É–Ω–∫—Ü–∏–∏. (–µ—Å–ª–∏ —Å—Ç—É–¥–µ–Ω—Ç –ø—Ä–æ—Ö–æ–¥–∏–ª MVC —Ç–µ–º—É)

// –ù–µ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –º–æ–¥—É–ª–∏ (export, import) —á—Ç–æ –º–æ–≥–ª–æ –±—ã —É–ø—Ä–æ—Å—Ç–∏—Ç—å –≤–∑–∞–π–º–æ–¥–µ–π—Å—Ç–≤–∏–µ –∫–ª–∞—Å—Å–æ–≤ –∏ –º–µ—Ç–æ–¥–æ–≤ –¥—Ä—É–≥ —Å –¥—Ä—É–≥–æ–º, –∞ –≤ html —Ñ–∞–π–ª–µ –∏–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å —Ç–æ–ª—å–∫–æ –æ–¥–∏–Ω —Ñ–∞–π–ª

// –ù–µ —Ä–∞–±–æ—Ç–∞—é—Ç —Ä–∞–¥–∏–æ –∏–Ω–ø—É—Ç—ã, –≤ —Å–ª–µ–¥—Å—Ç–≤–∏–∏ —á–µ–≥–æ —Å–º—ã—Å–ª –ü–û —Ç–µ—Ä—è–µ—Ç—Å—è –≤ –≤–∏–¥—É –Ω–µ—Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–±–Ω–æ—Å—Ç–∏ –æ—Å–Ω–æ–≤–Ω–æ–≥–æ —Ñ—É–∫—Ü–∏–æ–Ω–∞–ª–∞

// –ú–µ—Ç–æ–¥—ã —Å–ª–∏—à–∫–æ–º –±–æ–ª—å—à–∏–µ –∏ –≥—Ä–æ–º–æ–∑–¥–∫–∏–µ, —Å—Ç–æ–∏—Ç —Ä–∞–∑–¥–µ–ª–∏—Ç—å –∏—Ö –Ω–∞ –±–æ–ª–µ–µ –∫–æ–º–ø–∞–∫—Ç–Ω—ã–µ –∏ –ø–æ–Ω—è—Ç–Ω—ã–µ –¥–ª—è —á—Ç–µ–Ω–∏—è

// –í –∫–ª–∞—Å—Å–∞—Ö –ø–æ–≤—Ç–æ—Ä—è—é—Ç—Å—è –º–µ—Ç–æ–¥—ã, –æ–±—ä—è–≤–ª–µ–Ω–Ω—ã–µ –≤ —Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–æ–º –∫–ª–∞—Å—Å–µ - —á—Ç–æ –ø—Ä–æ—Ç–∏–≤–æ—Ä–µ—á–∏—Ç –ª–æ–≥–∏–∫–µ –Ω–∞—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏—è –≤ –û–û–ü
